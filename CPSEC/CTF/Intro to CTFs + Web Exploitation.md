## Agenda
- Introduction to CTF meetings
- Introduction to CTFs
- Introduction to Web Exploitation
	- SQL Injections
	- XSS

## CTF Meeting Overview
- We do:
	- CTFs (hacking competitions)
	- Hands-on cybersecurity activities
		- Learning to use hacking equipment
		- Wargames/non-competitive hacking challenges
		- Wardriving (maybe, currently being planned)


## CTF Meetings vs General Meetings
- CTF Meetings
	- Activity-focused
	- Good for engaging with the technicaldetails of cybersecurity
	- Largely self-driven
- General Meetings
	- Talk-focused
	- Good for building a general understanding of the cybersecurity world
	- Limited opportunities for active participation
	- More memes (Henry asked me to add this)

## Why you should go to CTF Meetings
- Hacking is fun
- Competing in CTFs is good for your resume
- This was explicitly mentioned by several industry speakers last year
- Community and collaboration with others

## What is a CTF?
- Capture the Flag
- Flag: password, usually in the format zxyCTF{}
- One flag is given per challenge, usually
- Submitting the flag onto the certain CTF's website rewards you with points for your team

## Capture
- To get the flag, you usually have to break something
- 6 different challenge categories (usually)
	- Web Exploitation
	- Reverse Engineering
	- Binary Explotation
	- Cryptography
	- Forensics
	- Misc

## CTF Structure
- CTFs run for a limited amount of time (usually 48 hours over the weekend)
- CTFs contain a bunch of challenges (~30)
- Organizers assign point values to each challenge based on perceived difficulty or a dynamic scoring algorithm
- Whichever team has the most points at the end wins


## How we approach CTFs
- During regular club hours (1:10-3:00pm on Saturdays)
- Outside of club hours (usually starting Friday afternoon and going through Sunday afternoon)

## How to get good
- Google a lot of stuff


## picoCTF
- picoCTF is an annual CTF hosted by Carnegie Mellon
- Challenges left running permanently for use as a learning resource
	- Good difficulty curve

## Getting Started (30 minutes)
- Make an account on picoctf.org
- Try some of these challenges:
	- (Web) Inspect HTML
	- (Cryptography) 13
	- (Reverse Engineering) vault-door-training
	- (Forensics) Glory of the Garden
	- (General Skills) runme.py
	- (Binary Exploitation) buffer overflow 0


## Web Exploitation
- Exploiting websites
	- Server side: software running on web and application servers
	- Client side: code that runs when someone visits a website

## What's a database?
- A thing that holds data
- Usually persistent data
- Usually a different place than where the actual HTTP requests are servered

## How do databases work?
- SQL databases (MySQL, PostgreSQL, etc.) are made up of tables with defined columns, for example...

| id INTEGER | username TEXT | password TEXT |
| ---------- | ------------- | ------------- |
| 0          | bob           | passwordlol   |
| 1          | alice         | imalice       |
| 2          | AzureDiamond  | hunter2       |

## How do I talk to a database?
- SQL!
	- Lots of servers that support SQL, including MySQL, PostgreSQL, Microsoft SQL Server, etc. Also libraries like SQLite.
	- https://www.w3schools.com/sql/trysql.asp?filename=trysql_asc
- NoSQL, like Mongo

## How can this create a vulnerability?
![[Screenshot_20241112_221237.png]]
![[Screenshot_20241112_221251.png]]
![[Screenshot_20241112_221323.png]]
![[Screenshot_20241112_221332.png]]
![[Screenshot_20241112_221343.png]]
![[Screenshot_20241112_221356.png]]

## How can we exploit this?
- If we'd like to log in as a specific user, we need the SQL query to return the row corresponding to that user
- When we don't have the right password, the password filter on the results prevents that from happening.
	- If we can change the end of the query, we can bypass this!

![[Screenshot_20241112_221519.png]]
![[Screenshot_20241112_221530.png]]
![[Screenshot_20241112_221554.png]]


## Exploit Results
- In this case, all users are returned, as every user matches the exploit query.

| id  | username     | password    |
| --- | ------------ | ----------- |
| 0   | bob          | passwordlol |
| 1   | alice        | imalice     |
| 2   | AzureDiamond | hunter2     |
- You will likely successfully log in as the first user (bob)
	- If you need to login as a specific user, the injection can be modified.

## How to avoid this
- Never use raw string replacement for SQL queries
	- Use a wrapper library that lets you add parameters to your query
	- If you absolutely have to use string replacement, "escape" the text given by the user first (e.g. replace single qoutes with backslash + single qoute so it won't end the string)

## More complicated topics
- What if we don't just want to log in, but leak a bunch of information?
	- Enumerating SQL tables
	- UNION statement
- What if we want to leak information, but the output of the statement isn't given back to us
	- Blind SQL injection
- What if our input is (badly) filtered?
	- Figure out how!


## Use in CTFs
- The admin user has access to the flag, but we don’t know the admin user’s password
- OR
- Nobody has access to the flag, but it's stored somewhere in the database

![[Screenshot_20241112_224633.png]]
![[Screenshot_20241112_224647.png]]

## Scripts!
- Code that is embedded in a webpage
- Allow for cool, interactive websites
	- Dropdown menus!
	- Buttons!
	- Infinite scrolling!
	- Tracking everything you do! ("analytics")

![[Screenshot_20241112_224735.png]]

## Scripts for Hacking
- If an attacker is able to add a script to your website, they can...
	- Access everything on the webpage (which likely includes user information)
	- Perform any action on the webpage that the user could (e.g. hitting the "buy" button on ecommerce sites)
	- Potentially make authenticated requests
		- Perform actions that are on other webpages on the same website

## Script Rules
- Scripts can only access/modify data for the website they're being run on (Same Origin Policy)
- Scripts can be limited with various security features (Content Security Policy, iframe sandbox, etc.)


## Attacker's Conudrum
- How can I run scripts on a website I don't control?

## XSS!
- Cross-Site Scripting (although a misleading name)
- Means that an attacker can "inject" scripts into a webpage somehow
- Very similar to an SQL Injection vulnerability, just in HTML instead of SQL

![[Screenshot_20241112_231554.png]]
