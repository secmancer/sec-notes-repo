### Gobuster
- [GoBuster](https://github.com/OJ/gobuster) allows us to find hidden functionality or pages/directories that may be leveraged to access the deeper components of a web application/website.
- #### Directory/File Enumeration
	- GoBuster allows for  DNS, vhost, directory brute-forcing, and other forms of enumeration like that of public AWS S3 buckets.
	- Here, we will be using the directory (and file) brute-forcing modes specifically. 
	- We can run a simple scan using the `dirb` `common.txt` wordlist:
```
secmancer@htb[/htb]$ gobuster dir -u http://10.10.10.121/ -w /usr/share/seclists/Discovery/Web-Content/common.txt

===============================================================
Gobuster v3.0.1
by OJ Reeves (@TheColonial) & Christian Mehlmauer (@_FireFart_)
===============================================================
[+] Url:            http://10.10.10.121/
[+] Threads:        10
[+] Wordlist:       /usr/share/seclists/Discovery/Web-Content/common.txt
[+] Status codes:   200,204,301,302,307,401,403
[+] User Agent:     gobuster/3.0.1
[+] Timeout:        10s
===============================================================
2020/12/11 21:47:25 Starting gobuster
===============================================================
/.hta (Status: 403)
/.htpasswd (Status: 403)
/.htaccess (Status: 403)
/index.php (Status: 200)
/server-status (Status: 403)
/wordpress (Status: 301)
===============================================================
2020/12/11 21:47:46 Finished
===============================================================
```

- An HTTP status code of `200` reveals that the resource's request was successful, while a 403 HTTP status code indicates that we are forbidden to access the resource. 
- A 301 status code indicates that we are being redirected, which is not a failure case. It is worth familiarizing ourselves with the various HTTP status codes, which can be found [here](https://en.wikipedia.org/wiki/List_of_HTTP_status_codes). 
- Overall, the scan was completed successfully, and it identifies a WordPress installation at `/wordpress`. 
	- WordPress is the most commonly used CMS (Content Management System), so it can be a valuable attack surface to use.
	- Visiting `http://10.10.10.121/wordpress` in a browser reveals that WordPress is still in setup mode, which will allow us to gain remote code execution (RCE) on the server.
- #### DNS Subdomain Enumeration
	- Subdomains may also host valuable items like admin panels or applications with additional functionality that can be easily exploited.
	- `GoBuster` can also be used to enumaterate avaliable subdomains of a domain.
	- To do this, we need a list of possible subdomains. We can grab that from a very useful repository called seclists.
- #### Install SecLists
```
secmancer@htb[/htb]$ git clone https://github.com/danielmiessler/SecLists
```
```
secmancer@htb[/htb]$ sudo apt install seclists -y
```
- Next, add a DNS Server to the `/etc/resolv.conf` file.
```
secmancer@htb[/htb]$ gobuster dns -d inlanefreight.com -w /usr/share/SecLists/Discovery/DNS/namelist.txt

===============================================================
Gobuster v3.0.1
by OJ Reeves (@TheColonial) & Christian Mehlmauer (@_FireFart_)
===============================================================
[+] Domain:     inlanefreight.com
[+] Threads:    10
[+] Timeout:    1s
[+] Wordlist:   /usr/share/SecLists/Discovery/DNS/namelist.txt
===============================================================
2020/12/17 23:08:55 Starting gobuster
===============================================================
Found: blog.inlanefreight.com
Found: customer.inlanefreight.com
Found: my.inlanefreight.com
Found: ns1.inlanefreight.com
Found: ns2.inlanefreight.com
Found: ns3.inlanefreight.com
===============================================================
2020/12/17 23:10:34 Finished
===============================================================
```
- This scan reveals several interesting subdomains that we could examine further.


### Banner Grabbing / Web Server Headers
- Web server headers provide a good picture of what is hosted on a web server, like revealing the specific application framework in use, the authentication options, and whether the server is missing essential security options or has been misconfigured. 
-  `cURL` can retrieve server header information from the command line.
```
secmancer@htb[/htb]$ curl -IL https://www.inlanefreight.com

HTTP/1.1 200 OK
Date: Fri, 18 Dec 2020 22:24:05 GMT
Server: Apache/2.4.29 (Ubuntu)
Link: <https://www.inlanefreight.com/index.php/wp-json/>; rel="https://api.w.org/"
Link: <https://www.inlanefreight.com/>; rel=shortlink
Content-Type: text/html; charset=UTF-8
```
- [EyeWitness](https://github.com/FortyNorthSecurity/EyeWitness) is also a similar handy tool, used to take screenshots of target web applications, fingerprint them, and identify possible default credentials.


### Whatweb
- We can extract the version of web servers, supporting frameworks, and applications using the command-line tool `whatweb`. 
- - `Whatweb` allows us to automate web application enumeration across a network.
- Using this, we can pinpoint the technologies in use and begin to search for potential vulnerabilities.
```
secmancer@htb[/htb]$ whatweb 10.10.10.121

http://10.10.10.121 [200 OK] Apache[2.4.41], Country[RESERVED][ZZ], Email[license@php.net], HTTPServer[Ubuntu Linux][Apache/2.4.41 (Ubuntu)], IP[10.10.10.121], Title[PHP 7.4.3 - phpinfo()]
```
```
secmancer@htb[/htb]$ whatweb --no-errors 10.10.10.0/24

http://10.10.10.11 [200 OK] Country[RESERVED][ZZ], HTTPServer[nginx/1.14.1], IP[10.10.10.11], PoweredBy[Red,nginx], Title[Test Page for the Nginx HTTP Server on Red Hat Enterprise Linux], nginx[1.14.1]
http://10.10.10.100 [200 OK] Apache[2.4.41], Country[RESERVED][ZZ], HTTPServer[Ubuntu Linux][Apache/2.4.41 (Ubuntu)], IP[10.10.10.100], Title[File Sharing Service]
http://10.10.10.121 [200 OK] Apache[2.4.41], Country[RESERVED][ZZ], Email[license@php.net], HTTPServer[Ubuntu Linux][Apache/2.4.41 (Ubuntu)], IP[10.10.10.121], Title[PHP 7.4.3 - phpinfo()]
http://10.10.10.247 [200 OK] Bootstrap, Country[RESERVED][ZZ], Email[contact@cross-fit.htb], Frame, HTML5, HTTPServer[OpenBSD httpd], IP[10.10.10.247], JQuery[3.3.1], PHP[7.4.12], Script, Title[Fine Wines], X-Powered-By[PHP/7.4.12], X-UA-Compatible[ie=edge]
```

### Certificates
- SSL/TLS certificates are another potentially valuable source of information if HTTPS is in use. 
- We can get info like the email address and company name associated with it, which can be used for a potential  a phishing attack if within the scope of an assessment.

### Robots.txt
- Most websites may have a `robots.txt` file, which is used to instruct search engine web crawlers which resources can and cannot be accessed for indexing.
- We can get valuable information from here, like the location of private files and admin pages.

### Source Code
- Checking the source code can also lead to something.
- We can do that by using the `[CTRL + U]` command in a browser while opened on the intended site. 

### Questions
- Try running some of the web enumeration techniques you learned in this section on the server above, and use the info you get to get the flag.
	- HTB{w3b_3num3r4710n_r3v34l5_53cr375}