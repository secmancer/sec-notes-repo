### **Key Concepts**
1. **Service**: An application running on a machine that performs specific functions.
2. **Servers**: Machines hosting services, accessible via **IP address** and **port numbers**.
3. **Port Ranges**:
    - **Well-known ports**: 1–1,023 (privileged services).
    - **Registered ports**: 1,024–49,151.
    - **Dynamic/private ports**: 49,152–65,535.



### **Nmap**
- **Overview**: A powerful tool for network scanning and enumeration.
- **Basic Scan**:
    ```bash
    nmap 10.129.42.253
    ```
    - Scans the **1,000 most common TCP ports** by default.
- **Advanced Scan**:
    ```bash
    nmap -sC -sV -p- 10.129.42.253
    ```
    - `-sC`: Runs default scripts.
    - `-sV`: Performs version detection.
    - `-p-`: Scans all 65,535 ports.
- **Script Usage**:
    ```bash
    nmap --script=<script-name> -p<port> <host>
    ```
    - Example for SMB OS discovery:    
        ```bash
        nmap --script smb-os-discovery.nse -p445 10.10.10.40
        ```   



### **Common Enumeration Techniques**
1. **Banner Grabbing**:
    - Identify service details:
        ```bash
        nc -nv <IP> <port>
        ```
    - Example:
        ```bash
        nmap -sV --script=banner -p21 10.10.10.0/24
        ```
2. **FTP**:
    - Check for anonymous login:
        ```bash
        nmap -sC -sV -p21 <IP>
        ```
    - Example Commands:
        - **Connect**: `ftp -p <IP>`
        - **Navigate**: `ls`, `cd <directory>`
        - **Download**: `get <filename>`
3. **SMB**:
    - List available shares:
        ```bash
        smbclient -N -L \\\\<IP>
        ```
    - Connect using credentials:        
        ```bash
        smbclient -U <username> \\\\<IP>\\<share>
        ```
    - Example commands: `ls`, `cd`, `get`.
4. **SNMP**:
    - Query with known community strings:
        ```bash
        snmpwalk -v 2c -c <community-string> <IP>
        ```
    - Brute force community strings:
        ```bash
        onesixtyone -c dict.txt <IP>
        ```



### **Key Observations**
1. **Nmap Outputs**:
    - **PORT**: Port number and protocol.
    - **STATE**: Open, closed, or filtered.
    - **SERVICE**: Service mapped to the port.
    - **VERSION**: Service version and OS information.
2. **Protocol Examples**:
    - FTP: Use `ftp` for file transfer.
    - SMB: Access shared files and directories.
    - SNMP: Gather system information (requires community strings).
3. **Useful Tools**:
    - **Netcat**: For manual banner grabbing and service interaction.
    - **Nmap**: For automated scanning and script usage.
    - **SMBClient**: For interacting with SMB shares.
    - **SNMPWalk**: For SNMP enumeration.
    - **Onesixtyone**: For brute forcing SNMP community strings.



### **Conclusion**
- Service scanning and enumeration is a crucial step in penetration testing. 
- Tools like **Nmap**, **Netcat**, and others streamline the discovery of services and their potential vulnerabilities. 
- Mastery of these techniques is foundational for deeper exploitation.



### Questions
- Perform an Nmap scan of the target. What does Nmap display as the version of the service running on port 8080?
	- Apache Tomcat
- Perform an Nmap scan of the target and identify the non-default port that the telnet service is running on.
	- 2323
- List the SMB shares available on the target host. Connect to the available share as the bob user. Once connected, access the folder called 'flag' and submit the contents of the flag.txt file.
	- dceece590f3284c3866305eb2473d099