#### **Objective**
- The goal is to **test the client’s IDS/IPS systems** while **minimizing alerts** to avoid getting banned.
- The client will improve their IDS/IPS defenses based on our findings, so we need to adapt after each test.

#### **Key Constraints**
1. **Access to status web page**: This page shows the number of alerts generated by our tests.
    - We will be **banned** if too many alerts are triggered.
    - Monitoring the **alert count** is essential for adjusting our techniques.
2. **Unknown IDS/IPS Guidelines**: We are unaware of the specific rules or patterns the IDS/IPS are using.
    - Testing needs to be **dynamic and adaptive** to the network’s evolving defenses.

#### **Practical Strategy for IDS/IPS Evasion**
1. **Start with Stealthy Techniques**:
    - Begin with **quiet, slow scans** to gather as much information as possible without triggering many alerts.
    - Use Nmap’s **Timing Templates**:
        - Start with **-T 0 (paranoid)** or **-T 1 (sneaky)** to minimize the likelihood of detection.
2. **Monitor Alerts**:
    - After each test, **check the status web page** to see the **number of alerts**.
    - If alerts increase significantly, modify the scanning approach to be less aggressive.
3. **Test Specific Ports and Services**:
    - Instead of scanning the entire network, focus on **specific ports and services**.
    - Use **Nmap’s targeted scans** (e.g., `nmap -p22,80,443 <target>`), which are less likely to trigger alarms than full network scans.
4. **Leverage Decoys to Hide the Source IP**:
    - Use **decoy scanning** (`-D RND:<n>`) to generate random IP addresses, disguising the real source of the scan.
    - This method will make it more difficult for IDS/IPS systems to pinpoint the actual attacker's IP address.

Example Command:
```
nmap -p 80 -sS -Pn -n --packet-trace -D RND:5 <target>
```

5. **Use Fragmentation**:
	- Break up packets to evade signature-based detection by IDS/IPS systems.
	- **Packet fragmentation** (`-f`) sends smaller, non-standard packets that might not be detected as a complete scan.

Example Command:
```
nmap -p 80 -sS -Pn -f <target>
```

6. **Use Randomized Timing**:
	- Randomizing the timing and delay between packets can help avoid detection.
	- **--scan-delay time**: Introduces a delay between packets to reduce the scan’s speed.
	- **--max-rate number**: Limits the rate of packets sent per second to avoid overwhelming the system.

## Questions
- Our client wants to know if we can identify which operating system their provided machine is running on. Submit the OS name as the answer.
	- Ubuntu